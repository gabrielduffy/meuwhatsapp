<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8"><title>Relat√≥rios - WhatsBenemax</title><link rel="stylesheet" href="/css/app.css"><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/chart.js"></script></head>
<body>
<div class="app-container">
<aside class="app-sidebar" id="sidebar"><div class="sidebar-logo"><svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg><span>WhatsBenemax</span></div><nav class="sidebar-menu" id="sidebarMenu"></nav></aside>
<header class="app-header"><button onclick="Sidebar.toggle()" class="header-btn"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="header-actions"><button class="header-btn" onclick="DarkMode.toggle()"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg></button><button class="header-btn" onclick="window.location.href='/notificacoes.html'"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg><span class="notification-badge">3</span></button><div class="user-menu"><img src="https://ui-avatars.com/api/?name=User&background=5B21B6&color=fff" class="user-avatar" id="userAvatar"><div class="user-info hidden md:block"><div class="user-name" id="userName">Usu√°rio</div></div></div></div></header>
<main class="app-main">
<div class="flex items-center justify-between mb-6"><div><h1 class="page-title">Relat√≥rios e Analytics</h1><p class="page-subtitle">An√°lise completa do desempenho</p></div><div class="flex gap-2"><select class="input" id="periodoSelect" onchange="atualizarPeriodo()"><option value="7">√öltimos 7 dias</option><option value="30" selected>√öltimos 30 dias</option><option value="90">√öltimos 90 dias</option><option value="365">√öltimo ano</option></select><button class="btn btn-outline">üì• Exportar PDF</button></div></div>

<!-- KPIs Principais -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
<div class="card"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-500 mb-1">Mensagens Enviadas</p><h3 class="text-2xl font-bold">12.458</h3><p class="text-xs text-green-600 mt-1">‚Üë 23% vs per√≠odo anterior</p></div><div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></div></div></div>
<div class="card"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-500 mb-1">Taxa de Entrega</p><h3 class="text-2xl font-bold">98.2%</h3><p class="text-xs text-green-600 mt-1">‚Üë 1.2% vs per√≠odo anterior</p></div><div class="w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div></div>
<div class="card"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-500 mb-1">Taxa de Resposta</p><h3 class="text-2xl font-bold">45.7%</h3><p class="text-xs text-red-600 mt-1">‚Üì 3.4% vs per√≠odo anterior</p></div><div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg></div></div></div>
<div class="card"><div class="flex items-center justify-between"><div><p class="text-sm text-gray-500 mb-1">Convers√µes CRM</p><h3 class="text-2xl font-bold">R$ 48.500</h3><p class="text-xs text-green-600 mt-1">‚Üë 15% vs per√≠odo anterior</p></div><div class="w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div></div>
</div>

<!-- Gr√°ficos -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
<div class="card"><h3 class="font-bold mb-4">Mensagens por Dia</h3><canvas id="chartMensagens" height="250"></canvas></div>
<div class="card"><h3 class="font-bold mb-4">Taxa de Resposta por Canal</h3><canvas id="chartCanais" height="250"></canvas></div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
<div class="card"><h3 class="font-bold mb-4">Funil de Convers√£o CRM</h3><canvas id="chartFunil" height="250"></canvas></div>
<div class="card"><h3 class="font-bold mb-4">Hor√°rios de Maior Atividade</h3><canvas id="chartHorarios" height="250"></canvas></div>
</div>

<!-- Top Performers -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
<div class="card"><h3 class="font-bold mb-4">Top 5 Vendedores</h3><div id="topVendedores" class="space-y-3"></div></div>
<div class="card"><h3 class="font-bold mb-4">Top 5 Campanhas</h3><div id="topCampanhas" class="space-y-3"></div></div>
</div>
</main>
</div>
<script src="/js/utils.js"></script>
<script>Auth.checkAuth();const user=Auth.getUser();if(user){document.getElementById('userName').textContent=user.nome;loadMenu();}function loadMenu(){const m=[{label:'Dashboard',href:'/dashboard.html'},{label:'Relat√≥rios',href:'/relatorios.html',active:true},{label:'CRM',href:'/crm.html'}];document.getElementById('sidebarMenu').innerHTML=m.map(i=>`<a href="${i.href}" class="menu-item ${i.active?'active':''}"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg><span>${i.label}</span></a>`).join('');}function renderChartMensagens(){const ctx=document.getElementById('chartMensagens');new Chart(ctx,{type:'line',data:{labels:['1/12','5/12','10/12','15/12','20/12','25/12','30/12'],datasets:[{label:'Enviadas',borderColor:'#5B21B6',backgroundColor:'rgba(91,33,182,0.1)',data:[320,450,380,520,490,610,580],tension:0.4},{label:'Entregues',borderColor:'#10B981',backgroundColor:'rgba(16,185,129,0.1)',data:[310,440,375,510,480,600,570],tension:0.4}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:true,position:'bottom'}}}});}function renderChartCanais(){const ctx=document.getElementById('chartCanais');new Chart(ctx,{type:'doughnut',data:{labels:['WhatsApp','Follow-up','Prospec√ß√£o','Agente IA'],datasets:[{data:[45.7,38.2,28.5,52.1],backgroundColor:['#5B21B6','#7C3AED','#A78BFA','#C4B5FD']}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:true,position:'bottom'}}}});}function renderChartFunil(){const ctx=document.getElementById('chartFunil');new Chart(ctx,{type:'bar',data:{labels:['Lead','Contato','Qualificado','Proposta','Negocia√ß√£o','Fechado'],datasets:[{label:'Negocia√ß√µes',backgroundColor:'#5B21B6',data:[150,120,85,62,45,28]}]},options:{responsive:true,maintainAspectRatio:false,indexAxis:'y',plugins:{legend:{display:false}}}});}function renderChartHorarios(){const ctx=document.getElementById('chartHorarios');new Chart(ctx,{type:'bar',data:{labels:['00h','03h','06h','09h','12h','15h','18h','21h'],datasets:[{label:'Mensagens',backgroundColor:'#5B21B6',data:[12,5,8,45,78,92,110,68]}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}});}function loadTopVendedores(){const vendedores=[{nome:'Jo√£o Silva',vendas:12,valor:48500,avatar:'https://ui-avatars.com/api/?name=Joao+Silva&background=5B21B6&color=fff'},{nome:'Maria Santos',vendas:10,valor:42300,avatar:'https://ui-avatars.com/api/?name=Maria+Santos&background=7C3AED&color=fff'},{nome:'Pedro Costa',vendas:8,valor:35200,avatar:'https://ui-avatars.com/api/?name=Pedro+Costa&background=5B21B6&color=fff'},{nome:'Ana Oliveira',vendas:7,valor:28900,avatar:'https://ui-avatars.com/api/?name=Ana+Oliveira&background=7C3AED&color=fff'},{nome:'Carlos Lima',vendas:6,valor:24100,avatar:'https://ui-avatars.com/api/?name=Carlos+Lima&background=5B21B6&color=fff'}];document.getElementById('topVendedores').innerHTML=vendedores.map((v,i)=>`<div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"><div class="flex items-center gap-3"><span class="w-8 h-8 flex items-center justify-center font-bold text-purple-600">#${i+1}</span><img src="${v.avatar}" class="w-10 h-10 rounded-full"><div><div class="font-semibold">${v.nome}</div><div class="text-sm text-gray-500">${v.vendas} vendas</div></div></div><div class="text-right"><div class="font-bold text-green-600">R$ ${v.valor.toLocaleString('pt-BR')}</div></div></div>`).join('');}function loadTopCampanhas(){const campanhas=[{nome:'Black Friday 2024',enviadas:1250,taxa:45.2},{nome:'Lan√ßamento Produto X',enviadas:980,taxa:38.7},{nome:'Follow-up P√≥s-Venda',enviadas:750,taxa:56.3},{nome:'Prospec√ß√£o Leads',enviadas:650,taxa:28.1},{nome:'Pesquisa Satisfa√ß√£o',enviadas:520,taxa:62.5}];document.getElementById('topCampanhas').innerHTML=campanhas.map((c,i)=>`<div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"><div class="flex items-center gap-3"><span class="w-8 h-8 flex items-center justify-center font-bold text-purple-600">#${i+1}</span><div><div class="font-semibold">${c.nome}</div><div class="text-sm text-gray-500">${c.enviadas} enviadas</div></div></div><div class="text-right"><div class="font-bold ${c.taxa>40?'text-green-600':'text-gray-600'}">${c.taxa.toFixed(1)}%</div><div class="text-xs text-gray-500">resposta</div></div></div>`).join('');}function atualizarPeriodo(){const periodo=document.getElementById('periodoSelect').value;console.log('Atualizar per√≠odo:',periodo);Toast.info(`Atualizando dados para ${periodo} dias`);}renderChartMensagens();renderChartCanais();renderChartFunil();renderChartHorarios();loadTopVendedores();loadTopCampanhas();</script>
</body>
</html>
